#!/usr/bin/env node

var fs = require('fs');
var path = require('path');

var lib = require('../index.js');

var argv = require('minimist')(process.argv.slice(2), {
  alias: {
    h: 'host',
    p: 'port'
  }
});

var cmd = argv._[0];
var file = argv._[1];

if (cmd === 'send') {
  lib.send(file, argv.host, argv.port);
} else if (cmd === 'receive') {
  lib.receive(argv.port);
} else {
  console.log('invalid usage');
  console.log('usage:');
  console.log('  tran send    -h <HOST> -p <PORT> <FILE>');
  console.log('  tran receive -p <PORT> <FILE>');
}
